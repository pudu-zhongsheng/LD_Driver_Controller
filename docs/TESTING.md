# 测试规范文档

## 1. 测试环境

### 1.1 硬件环境
- LED驱动器: 8通道驱动板
- 电子负载: IT8512+
- 照度计: CL-200A
- USB转串口线缆 x3
- 测试用LED负载

### 1.2 软件环境
- Windows 10/11 64位
- Qt 5.14.2
- 串口调试助手
- 性能分析工具

## 2. 单元测试

### 2.1 通信协议测试
1. Protocol基类测试
   - CRC校验计算
   - 数据打包解包
   - 错误处理机制

2. DriverProtocol测试
   - 命令生成
   - 响应解析
   - 校验和验证

3. EleLoad_ITPlus测试
   - 模式切换命令
   - 参数设置命令
   - 状态查询命令

4. CL_TwoZeroZeroACOM测试
   - 测量命令
   - 数据解析
   - 量程切换

### 2.2 设备控制测试
1. 驱动器测试
   - 通道控制
   - 参数设置
   - 状态监控

2. 电子负载测试
   - 工作模式切换
   - 参数限制检查
   - 状态更新

3. 照度计测试
   - 测量功能
   - 数据采集
   - 参数配置

### 2.3 工具类测试
1. SerialUtil测试
   - 端口连接
   - 数据收发
   - 错误处理

2. Config测试
   - 配置读写
   - 默认值处理
   - 配置同步

3. Logger测试
   - 日志记录
   - 文件管理
   - 并发写入

## 3. 集成测试

### 3.1 设备联动测试
1. 驱动器-电子负载
   - 参数同步
   - 状态反馈
   - 异常处理

2. 驱动器-照度计
   - 数据关联
   - 实时更新
   - 异常恢复

### 3.2 数据流测试
1. 数据采集链
   - 采样准确性
   - 数据完整性
   - 性能评估

2. 数据处理链
   - 计算准确性
   - 显示实时性
   - 存储可靠性

### 3.3 界面集成测试
1. 控件交互
   - 事件响应
   - 数据更新
   - 状态同步

2. 图表显示
   - 数据绘制
   - 刷新性能
   - 内存管理

## 4. 系统测试

### 4.1 功能测试
1. 基本功能
   - 设备连接
   - 参数设置
   - 数据采集

2. 高级功能
   - 扫描测试
   - 动态测试
   - 数据分析

### 4.2 性能测试
1. 响应时间
   - UI响应
   - 命令执行
   - 数据更新

2. 资源占用
   - CPU使用率
   - 内存使用
   - 磁盘IO

3. 稳定性测试
   - 长时间运行
   - 高频操作
   - 异常恢复

### 4.3 兼容性测试
1. 操作系统
   - Windows 10
   - Windows 11
   - 不同分辨率

2. 硬件兼容
   - 不同USB控制器
   - 多串口适配器
   - 不同设备版本

## 5. 测试流程

### 5.1 开发测试
1. 单元测试
   - 编写测试用例
   - 运行自动化测试
   - 代码覆盖率分析

2. 集成测试
   - 模块接口测试
   - 功能集成测试
   - 性能评估

### 5.2 发布测试
1. 系统测试
   - 完整功能测试
   - 稳定性测试
   - 性能测试

2. 验收测试
   - 用户场景测试
   - 文档完整性
   - 安装部署测试

## 6. 测试工具

### 6.1 自动化测试
- Google Test框架
- Qt Test框架
- 自动化测试脚本

### 6.2 性能分析
- Visual Studio Profiler
- Qt Creator分析器
- 内存检测工具

### 6.3 测试辅助
- 串口调试助手
- 协议分析工具
- 日志分析工具 